{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/ijunho/Desktop/JUNHO/2020-2/database/Project/KHUsinsa/khusinsa-client/src/pages/member/MemberList.js\",\n    _s = $RefreshSig$();\n\nimport './MemberList.scss';\nimport Button from '../../components/button/Button';\nimport Card from '../../components/card/Card';\nimport { useEffect, useState } from 'react';\nimport Loading from '../../components/loading/Loading';\nimport api from '../../lib/api/clothAPI';\n\nfunction MemberList({\n  history,\n  match\n}) {\n  _s();\n\n  const [clothsState, setClothsState] = useState({\n    cloths: null,\n    status: 'idle'\n  });\n  useEffect(() => {\n    (async () => {\n      setClothsState({\n        cloths: null,\n        status: 'pending'\n      });\n\n      try {\n        const result = await api.getClothsAPI();\n        console.log(result);\n        setTimeout(() => setClothsState({\n          cloths: result,\n          status: 'resolved'\n        }), 800);\n      } catch (e) {\n        setClothsState({\n          cloths: null,\n          status: 'rejected'\n        });\n      }\n    })();\n  }, []);\n\n  const createCard = async () => {\n    try {\n      const nextIdx = clothsState.cloths.clothIdx + 1;\n      const result = await api.createMember({\n        name: \"\",\n        brand: \"\",\n        category: \"\",\n        price: \"\",\n        image: \"\",\n        clothIdx: nextIdx\n      });\n      setClothsState({\n        cloths: [...clothsState.cloths, result],\n        // spread 문법으로 서버 통신에 보낸 member(body) 추가\n        status: 'resolved'\n      });\n      console.log(\"[Client] 옷 추가\", clothsState.cloths);\n    } catch (e) {// fail\n    }\n  }; // 클라단에서 필터링하여 삭제된 card 바로 반영되도록 하는 함수\n\n\n  const onRemove = id => {\n    setClothsState({\n      status: 'resolved',\n      cloths: clothsState.cloths.filter(cloths => cloths.clothIdx !== id)\n    });\n  };\n\n  switch (clothsState.status) {\n    case 'pending':\n      return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 20\n      }, this);\n\n    case 'rejected':\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uB370\\uC774\\uD130 \\uB85C\\uB529 \\uC2E4\\uD328\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 20\n      }, this);\n\n    case 'resolved':\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"member-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"member-list__title\",\n          children: \"\\uD604\\uC7AC \\uC7AC\\uACE0 \\uBAA9\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"member-list__header member-list-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"member-list-header__nav\",\n            children: \"Gallery View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"member-list-header__empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            text: \"Properties\",\n            textColor: \"#777\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            text: \"Filter\",\n            textColor: \"#777\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            text: \"Sort\",\n            textColor: \"#777\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            text: \"Search\",\n            textColor: \"#777\",\n            icon: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            text: \"...\",\n            textColor: \"#777\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"member-list-content-wrapper\",\n          children: [clothsState.cloths.map((cloths, i) => /*#__PURE__*/_jsxDEV(Card, {\n            clothData: cloths,\n            onRemove: onRemove\n          }, \"card-\" + i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"create-card\",\n            onClick: createCard,\n            children: \"+ New\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this);\n\n    case 'idle':\n    default:\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 20\n      }, this);\n  }\n}\n\n_s(MemberList, \"sFcVxqohXlBkBL2TIroFjtJTOIc=\");\n\n_c = MemberList;\nexport default MemberList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MemberList\");","map":{"version":3,"sources":["/Users/ijunho/Desktop/JUNHO/2020-2/database/Project/KHUsinsa/khusinsa-client/src/pages/member/MemberList.js"],"names":["Button","Card","useEffect","useState","Loading","api","MemberList","history","match","clothsState","setClothsState","cloths","status","result","getClothsAPI","console","log","setTimeout","e","createCard","nextIdx","clothIdx","createMember","name","brand","category","price","image","onRemove","id","filter","map","i"],"mappings":"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","sourcesContent":["import './MemberList.scss'\nimport Button from '../../components/button/Button';\nimport Card from '../../components/card/Card';\nimport { useEffect, useState } from 'react';\nimport Loading from '../../components/loading/Loading';\n\nimport api from '../../lib/api/clothAPI';\n\nfunction MemberList({ history, match }) {\n    const [ clothsState, setClothsState ] = useState({\n        cloths: null,\n        status: 'idle',\n    });\n\n    useEffect(() => {\n        (async () => {\n            setClothsState({ cloths: null, status: 'pending' });\n            try {\n                const result = await api.getClothsAPI();\n                console.log(result);\n                setTimeout(() => setClothsState({ cloths: result, status: 'resolved' }), 800);\n            } catch (e) {\n                setClothsState({ cloths: null, status: 'rejected' });\n            }\n        })();\n    }, []);\n    const createCard = async () => {\n        try{\n            const nextIdx = clothsState.cloths.clothIdx + 1;\n            const result = await api.createMember({\n                name: \"\",\n                brand: \"\",\n                category: \"\",\n                price: \"\",\n                image: \"\",\n                clothIdx: nextIdx,\n            });\n            setClothsState({\n                cloths: [...clothsState.cloths, result], // spread 문법으로 서버 통신에 보낸 member(body) 추가\n                status: 'resolved'\n            });\n            console.log(\"[Client] 옷 추가\",clothsState.cloths);\n            \n        } catch (e){\n            // fail\n        }\n    }\n\n    // 클라단에서 필터링하여 삭제된 card 바로 반영되도록 하는 함수\n    const onRemove = (id) =>{\n        setClothsState({\n            status: 'resolved',\n            cloths: clothsState.cloths.filter(cloths => cloths.clothIdx !== id),\n        });\n    }\n\n    switch (clothsState.status) {\n        case 'pending':\n            return <Loading />;\n        case 'rejected':\n            return <div>데이터 로딩 실패</div>;\n        case 'resolved':\n            return (\n                <div className=\"member-list\">\n                    <div className=\"member-list__title\">현재 재고 목록</div>\n                    <div className=\"member-list__header member-list-header\">\n                        <div className=\"member-list-header__nav\">Gallery View</div>\n                        <div className=\"member-list-header__empty\"></div>\n                        <Button text=\"Properties\" textColor=\"#777\"></Button>\n                        <Button text=\"Filter\" textColor=\"#777\"></Button>\n                        <Button text=\"Sort\" textColor=\"#777\"></Button>\n                        <Button text=\"Search\" textColor=\"#777\" icon=\"search\"></Button>\n                        <Button text=\"...\" textColor=\"#777\"></Button>\n                    </div>\n                    <hr />\n                    <div className=\"member-list-content-wrapper\">\n                        {clothsState.cloths.map((cloths, i) =>\n                            <Card key={\"card-\" + i} clothData={cloths} onRemove={onRemove}/>)}\n                        <div className=\"create-card\" onClick={createCard}>+ New</div>\n                    </div>\n                </div>\n            );\n        case 'idle':\n        default:\n            return <div></div>\n    }\n}\n\nexport default MemberList;"]},"metadata":{},"sourceType":"module"}